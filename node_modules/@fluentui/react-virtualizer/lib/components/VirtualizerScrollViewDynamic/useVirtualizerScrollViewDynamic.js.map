{"version":3,"sources":["useVirtualizerScrollViewDynamic.ts"],"sourcesContent":["import * as React from 'react';\nimport { resolveShorthand, useMergedRefs } from '@fluentui/react-utilities';\nimport { useVirtualizer_unstable } from '../Virtualizer/useVirtualizer';\nimport {\n  VirtualizerScrollViewDynamicProps,\n  VirtualizerScrollViewDynamicState,\n} from './VirtualizerScrollViewDynamic.types';\nimport { useDynamicVirtualizerMeasure } from '../../Hooks';\nimport { useVirtualizerContextState_unstable } from '../../Utilities';\n\nexport function useVirtualizerScrollViewDynamic_unstable(\n  props: VirtualizerScrollViewDynamicProps,\n): VirtualizerScrollViewDynamicState {\n  const contextState = useVirtualizerContextState_unstable(props.virtualizerContext);\n\n  const { virtualizerLength, bufferItems, bufferSize, scrollRef } = useDynamicVirtualizerMeasure({\n    defaultItemSize: props.itemSize,\n    direction: props.axis ?? 'vertical',\n    getItemSize: props.getItemSize,\n    currentIndex: contextState?.contextIndex ?? 0,\n    numItems: props.numItems,\n  });\n\n  const iScrollRef = useMergedRefs(React.useRef<HTMLDivElement>(null), scrollRef) as React.RefObject<HTMLDivElement>;\n\n  const virtualizerState = useVirtualizer_unstable({\n    ...props,\n    virtualizerLength,\n    bufferItems,\n    bufferSize,\n    scrollViewRef: iScrollRef,\n    virtualizerContext: contextState,\n  });\n\n  return {\n    ...virtualizerState,\n    components: {\n      ...virtualizerState.components,\n      container: 'div',\n    },\n    container: resolveShorthand(props.container, {\n      required: true,\n      defaultProps: {\n        ref: iScrollRef,\n      },\n    }),\n  };\n}\n"],"names":["React","resolveShorthand","useMergedRefs","useVirtualizer_unstable","useDynamicVirtualizerMeasure","useVirtualizerContextState_unstable","useVirtualizerScrollViewDynamic_unstable","props","contextState","virtualizerContext","virtualizerLength","bufferItems","bufferSize","scrollRef","defaultItemSize","itemSize","direction","axis","getItemSize","currentIndex","contextIndex","numItems","iScrollRef","useRef","virtualizerState","scrollViewRef","components","container","required","defaultProps","ref"],"mappings":"AAAA,YAAYA,WAAW,QAAQ;AAC/B,SAASC,gBAAgB,EAAEC,aAAa,QAAQ,4BAA4B;AAC5E,SAASC,uBAAuB,QAAQ,gCAAgC;AAKxE,SAASC,4BAA4B,QAAQ,cAAc;AAC3D,SAASC,mCAAmC,QAAQ,kBAAkB;AAEtE,OAAO,SAASC,yCACdC,KAAwC,EACL;IACnC,MAAMC,eAAeH,oCAAoCE,MAAME,kBAAkB;QAIpEF,aAEGC;IAJhB,MAAM,EAAEE,kBAAiB,EAAEC,YAAW,EAAEC,WAAU,EAAEC,UAAS,EAAE,GAAGT,6BAA6B;QAC7FU,iBAAiBP,MAAMQ,QAAQ;QAC/BC,WAAWT,CAAAA,cAAAA,MAAMU,IAAI,cAAVV,yBAAAA,cAAc,UAAU;QACnCW,aAAaX,MAAMW,WAAW;QAC9BC,cAAcX,CAAAA,6BAAAA,yBAAAA,0BAAAA,KAAAA,IAAAA,aAAcY,YAAY,cAA1BZ,wCAAAA,6BAA8B,CAAC;QAC7Ca,UAAUd,MAAMc,QAAQ;IAC1B;IAEA,MAAMC,aAAapB,cAAcF,MAAMuB,MAAM,CAAiB,IAAI,GAAGV;IAErE,MAAMW,mBAAmBrB,wBAAwB;QAC/C,GAAGI,KAAK;QACRG;QACAC;QACAC;QACAa,eAAeH;QACfb,oBAAoBD;IACtB;IAEA,OAAO;QACL,GAAGgB,gBAAgB;QACnBE,YAAY;YACV,GAAGF,iBAAiBE,UAAU;YAC9BC,WAAW;QACb;QACAA,WAAW1B,iBAAiBM,MAAMoB,SAAS,EAAE;YAC3CC,UAAU,IAAI;YACdC,cAAc;gBACZC,KAAKR;YACP;QACF;IACF;AACF,CAAC"}