{"version":3,"sources":["useSpinner.js"],"sourcesContent":["import * as React from 'react';\nimport { getNativeElementProps, resolveShorthand, useId, useTimeout } from '@fluentui/react-utilities';\nimport { Label } from '@fluentui/react-label';\nimport { DefaultSvg } from './DefaultSvg';\n/**\n * Create the state required to render Spinner.\n *\n * The returned state can be modified with hooks such as useSpinnerStyles_unstable,\n * before being passed to renderSpinner_unstable.\n *\n * @param props - props from this instance of Spinner\n * @param ref - reference to root HTMLElement of Spinner\n */ export const useSpinner_unstable = (props, ref)=>{\n    // Props\n    const { appearance ='primary' , labelPosition ='after' , size ='medium' , delay =0  } = props;\n    const baseId = useId('spinner');\n    const { role ='progressbar' , tabIndex , ...rest } = props;\n    const nativeRoot = getNativeElementProps('div', {\n        ref,\n        role,\n        ...rest\n    }, [\n        'size'\n    ]);\n    const [isVisible, setIsVisible] = React.useState(true);\n    const [setDelayTimeout, clearDelayTimeout] = useTimeout();\n    React.useEffect(()=>{\n        if (delay <= 0) {\n            return;\n        }\n        setIsVisible(false);\n        setDelayTimeout(()=>{\n            setIsVisible(true);\n        }, delay);\n        return ()=>{\n            clearDelayTimeout();\n        };\n    }, [\n        setDelayTimeout,\n        clearDelayTimeout,\n        delay\n    ]);\n    const labelShorthand = resolveShorthand(props.label, {\n        defaultProps: {\n            id: baseId\n        },\n        required: false\n    });\n    const spinnerShortHand = resolveShorthand(props.spinner, {\n        required: true,\n        defaultProps: {\n            children: /*#__PURE__*/ React.createElement(DefaultSvg, null),\n            tabIndex\n        }\n    });\n    if (labelShorthand && nativeRoot && !nativeRoot['aria-labelledby']) {\n        nativeRoot['aria-labelledby'] = labelShorthand.id;\n    }\n    const state = {\n        appearance,\n        delay,\n        labelPosition,\n        size,\n        shouldRenderSpinner: isVisible,\n        components: {\n            root: 'div',\n            spinner: 'span',\n            label: Label\n        },\n        root: nativeRoot,\n        spinner: spinnerShortHand,\n        label: labelShorthand\n    };\n    return state;\n};\n"],"names":["useSpinner_unstable","props","ref","appearance","labelPosition","size","delay","baseId","useId","role","tabIndex","rest","nativeRoot","getNativeElementProps","isVisible","setIsVisible","React","useState","setDelayTimeout","clearDelayTimeout","useTimeout","useEffect","labelShorthand","resolveShorthand","label","defaultProps","id","required","spinnerShortHand","spinner","children","createElement","DefaultSvg","state","shouldRenderSpinner","components","root","Label"],"mappings":";;;;+BAYiBA;;aAAAA;;;6DAZM;gCACoD;4BACrD;4BACK;AAShB,MAAMA,sBAAsB,CAACC,OAAOC,MAAM;IACjD,QAAQ;IACR,MAAM,EAAEC,YAAY,UAAS,EAAGC,eAAe,QAAO,EAAGC,MAAM,SAAQ,EAAGC,OAAO,EAAC,EAAG,GAAGL;IACxF,MAAMM,SAASC,IAAAA,qBAAK,EAAC;IACrB,MAAM,EAAEC,MAAM,cAAa,EAAGC,SAAQ,EAAG,GAAGC,MAAM,GAAGV;IACrD,MAAMW,aAAaC,IAAAA,qCAAqB,EAAC,OAAO;QAC5CX;QACAO;QACA,GAAGE,IAAI;IACX,GAAG;QACC;KACH;IACD,MAAM,CAACG,WAAWC,aAAa,GAAGC,OAAMC,QAAQ,CAAC,IAAI;IACrD,MAAM,CAACC,iBAAiBC,kBAAkB,GAAGC,IAAAA,0BAAU;IACvDJ,OAAMK,SAAS,CAAC,IAAI;QAChB,IAAIf,SAAS,GAAG;YACZ;QACJ,CAAC;QACDS,aAAa,KAAK;QAClBG,gBAAgB,IAAI;YAChBH,aAAa,IAAI;QACrB,GAAGT;QACH,OAAO,IAAI;YACPa;QACJ;IACJ,GAAG;QACCD;QACAC;QACAb;KACH;IACD,MAAMgB,iBAAiBC,IAAAA,gCAAgB,EAACtB,MAAMuB,KAAK,EAAE;QACjDC,cAAc;YACVC,IAAInB;QACR;QACAoB,UAAU,KAAK;IACnB;IACA,MAAMC,mBAAmBL,IAAAA,gCAAgB,EAACtB,MAAM4B,OAAO,EAAE;QACrDF,UAAU,IAAI;QACdF,cAAc;YACVK,UAAU,WAAW,GAAGd,OAAMe,aAAa,CAACC,sBAAU,EAAE,IAAI;YAC5DtB;QACJ;IACJ;IACA,IAAIY,kBAAkBV,cAAc,CAACA,UAAU,CAAC,kBAAkB,EAAE;QAChEA,UAAU,CAAC,kBAAkB,GAAGU,eAAeI,EAAE;IACrD,CAAC;IACD,MAAMO,QAAQ;QACV9B;QACAG;QACAF;QACAC;QACA6B,qBAAqBpB;QACrBqB,YAAY;YACRC,MAAM;YACNP,SAAS;YACTL,OAAOa,iBAAK;QAChB;QACAD,MAAMxB;QACNiB,SAASD;QACTJ,OAAOF;IACX;IACA,OAAOW;AACX"}